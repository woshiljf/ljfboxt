{"version":3,"sources":["webpack:///src/page/FCS/FCSOrderHandle.vue","webpack:///./src/page/FCS/FCSOrderHandle.vue?5850","webpack:///./src/page/FCS/FCSOrderHandle.vue","webpack:///./src/api/fcsOrder.js"],"names":["FCSOrderHandle","name","data","listQuery","orderNos","returnNos","loginLoading","methods","onSubmit","formName","_this","this","$refs","validate","valid","console","log","userCode","JSON","parse","sessionStorage","getItem","extends_default","key","hasOwnProperty","deleteTrim","params","$loading","lock","text","spinner","orderUpdate","param","replace","split","newarr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","item","value","trim","push","err","return","_this2","Object","fcsOrder","then","res","code","close","$message","message","type","duration","catch","finally","handleReset","FCS_FCSOrderHandle","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","height","staticStyle","margin-top","color","_v","ref","model","inline","size","effect","content","placement","label","placeholder","callback","$$v","$set","expression","prop","text-align","on","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","request","url","method","__WEBPACK_IMPORTED_MODULE_0__utils_request__"],"mappings":"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","file":"static/js/1.34e6cb48388ade5ab57e.js","sourcesContent":["<template>\r\n  <div class=\"baowei2\">\r\n    <el-card class=\"box-card\">\r\n      <el-container>\r\n          <el-header height=\"\" class=\"elHeader\">\r\n            <div class=\"searchBox\" style=\"margin-top:10px\">\r\n              <el-row>\r\n                <el-col><h1 style=\"color: red\">oms已完成单据同步恒康重试</h1></el-col>\r\n                <el-col>\r\n                  <el-card>\r\n                    <el-form :model=\"listQuery\" :inline=\"true\" ref=\"form\" size=\"small\">\r\n                      <el-tooltip class=\"item\" effect=\"dark\" content=\"售后单号，补偿售后单时传入，可单独输入售后单号\" placement=\"top-start\">\r\n                        <el-form-item label=\"宝唯订单号:\"> \r\n                          <el-input v-model=\"listQuery.orderNos\" placeholder=\"可批量输入 以英文逗号隔开\" type=\"textarea\"></el-input>\r\n                        </el-form-item>\r\n                      </el-tooltip>\r\n                      <el-tooltip class=\"item\" effect=\"dark\" content=\"宝唯订单号，补偿订单时传入，可单独输入宝唯订单号\" placement=\"top-start\">\r\n                        <el-form-item label=\"售后单号:\" prop=\"returnNos\"> \r\n                          <el-input v-model=\"listQuery.returnNos\" placeholder=\"可批量输入 以英文逗号隔开\" type=\"textarea\"></el-input>\r\n                        </el-form-item>\r\n                      </el-tooltip>\r\n                    </el-form>\r\n                  </el-card>\r\n                </el-col>\r\n              </el-row>   \r\n            </div>\r\n          </el-header>\r\n          <el-main height=\"\" class=\"btn\" style=\"text-align:center\">\r\n            <div>\r\n              <el-button type=\"primary\" @click=\"onSubmit('form')\">更新订单</el-button>\r\n              <el-button @click=\"handleReset\">重置</el-button>\r\n            </div>\r\n          </el-main>\r\n        </el-container>\r\n    </el-card>\r\n  </div>\r\n    \r\n</template>\r\n<script>\r\nimport {fcsOrderCompensateHandle} from '../../api/fcsOrder'\r\nexport default {\r\n  name: 'FcsCompensateHk',\r\n  data(){\r\n    return {\r\n      listQuery: {\r\n        orderNos: '', //单据类型\r\n        returnNos: ''\r\n      },\r\n      loginLoading: null,\r\n    }\r\n  },\r\n  methods: {\r\n    onSubmit(formName){\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n      // 获取userCode\r\n          const userCode = JSON.parse(sessionStorage.getItem(\"userCode\")).userCode\r\n          // 订单更新接口\r\n          const data = {...this.listQuery}\r\n          for (const key in data) {\r\n            if (data.hasOwnProperty(key)) {\r\n              data[key] = this.deleteTrim(data[key])\r\n            }\r\n          }\r\n          const params = {data,userCode}\r\n          // 刷新动画\r\n          this.loginLoading = this.$loading({\r\n            lock: true,\r\n            text: '订单刷新中,请稍后。。。',\r\n            spinner: \"el-icon-loading\"\r\n          })\r\n          this.orderUpdate(params)\r\n        } else {\r\n          console.log('error submit!!');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 去除回车，空格,换行\r\n    deleteTrim(param){\r\n      var data = param.replace(/，/g,',').split(',')\r\n      var newarr = []\r\n      for (var item of data) {\r\n        item = item.replace(/[\\r\\n\\s]/g, '').trim()\r\n        if(item){\r\n          newarr.push(item)\r\n        }\r\n      }\r\n      return newarr\r\n    },\r\n    // 订单刷新\r\n    orderUpdate(params){\r\n      fcsOrderCompensateHandle(params)\r\n        .then(res=>{\r\n          if(res.data.code==0){\r\n            this.loginLoading.close()\r\n            this.$message({\r\n              message:'订单刷新成功',\r\n              type:'success',\r\n              duration:2000\r\n            })\r\n          }else{\r\n            this.loginLoading.close()\r\n            this.$message({\r\n              message:'操作失败',\r\n              type:'error',\r\n              duration:2000\r\n            })\r\n          }\r\n        }).catch(err=>{\r\n          console.log(err)\r\n          this.loginLoading.close()\r\n        }).finally(()=>{\r\n          this.loginLoading.close()\r\n        })\r\n    },\r\n    handleReset(){\r\n      // 清空请求搜索\r\n      for (const key in this.listQuery) {\r\n        if (this.listQuery.hasOwnProperty(key)) {\r\n          this.listQuery[key] = ''\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n  .page-bar {\r\n    margin-top: 20px;\r\n    text-align: right;\r\n  }\r\n  .btn{\r\n    margin: 0;\r\n  }\r\n  .box-card {\r\n    text-align: center;\r\n  }\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/FCS/FCSOrderHandle.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"baowei2\"},[_c('el-card',{staticClass:\"box-card\"},[_c('el-container',[_c('el-header',{staticClass:\"elHeader\",attrs:{\"height\":\"\"}},[_c('div',{staticClass:\"searchBox\",staticStyle:{\"margin-top\":\"10px\"}},[_c('el-row',[_c('el-col',[_c('h1',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"oms已完成单据同步恒康重试\")])]),_vm._v(\" \"),_c('el-col',[_c('el-card',[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.listQuery,\"inline\":true,\"size\":\"small\"}},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"售后单号，补偿售后单时传入，可单独输入售后单号\",\"placement\":\"top-start\"}},[_c('el-form-item',{attrs:{\"label\":\"宝唯订单号:\"}},[_c('el-input',{attrs:{\"placeholder\":\"可批量输入 以英文逗号隔开\",\"type\":\"textarea\"},model:{value:(_vm.listQuery.orderNos),callback:function ($$v) {_vm.$set(_vm.listQuery, \"orderNos\", $$v)},expression:\"listQuery.orderNos\"}})],1)],1),_vm._v(\" \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"宝唯订单号，补偿订单时传入，可单独输入宝唯订单号\",\"placement\":\"top-start\"}},[_c('el-form-item',{attrs:{\"label\":\"售后单号:\",\"prop\":\"returnNos\"}},[_c('el-input',{attrs:{\"placeholder\":\"可批量输入 以英文逗号隔开\",\"type\":\"textarea\"},model:{value:(_vm.listQuery.returnNos),callback:function ($$v) {_vm.$set(_vm.listQuery, \"returnNos\", $$v)},expression:\"listQuery.returnNos\"}})],1)],1)],1)],1)],1)],1)],1)]),_vm._v(\" \"),_c('el-main',{staticClass:\"btn\",staticStyle:{\"text-align\":\"center\"},attrs:{\"height\":\"\"}},[_c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit('form')}}},[_vm._v(\"更新订单\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.handleReset}},[_vm._v(\"重置\")])],1)])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-1b5c3f0d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/page/FCS/FCSOrderHandle.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1b5c3f0d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./FCSOrderHandle.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./FCSOrderHandle.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./FCSOrderHandle.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1b5c3f0d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./FCSOrderHandle.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1b5c3f0d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/FCS/FCSOrderHandle.vue\n// module id = null\n// module chunks = ","import request from '@/utils/request'\r\n\r\n// FCS补偿推送恒康\r\nexport function fcsCompensateHk(data){\r\n  return request({\r\n    url: '/bff/api/v1/operation/sync/pos/syncB2cSaleAndPo',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// FCS订单补偿处理\r\nexport function fcsOrderCompensateHandle(data){\r\n  return request({\r\n    url: '/bff/api/v1/operation/sync/pos/syncOrder',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/fcsOrder.js"],"sourceRoot":""}