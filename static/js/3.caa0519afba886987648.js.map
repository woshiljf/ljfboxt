{"version":3,"sources":["webpack:///src/page/FCS/FCSCompensate.vue","webpack:///./src/page/FCS/FCSCompensate.vue?0c4a","webpack:///./src/page/FCS/FCSCompensate.vue","webpack:///./src/api/fcsOrder.js"],"names":["FCSCompensate","name","components","SearchBox","data","listQuery","bizType","value","label","limit","orderUpdate","fcsOrder","searchQuery","searchOptions","rules","required","message","trigger","prop","type","placeholder","proptype","methods","tick","this","$message","duration","onSubmit","formName","_this","$refs","validate","valid","console","log","userCode","JSON","parse","sessionStorage","getItem","assign_default","params","loginLoading","$loading","lock","text","spinner","orderUpdateHandle","_this2","then","res","code","close","catch","err","finally","handleReset","key","hasOwnProperty","FCS_FCSCompensate","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","height","staticStyle","margin-top","text-align","ref","model","inline","size","callback","$$v","$set","expression","_l","item","_v","on","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__","request","url","method","__WEBPACK_IMPORTED_MODULE_0__utils_request__"],"mappings":"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","file":"static/js/3.caa0519afba886987648.js","sourcesContent":["<template>\r\n  <div>\r\n    <el-card class=\"box-card\">\r\n      <el-container>\r\n        <el-header height=\"\" class=\"elHeader\">\r\n          <div class=\"searchBox\" style=\"margin-top:10px; text-align: center\">\r\n            <el-row>\r\n              <el-col>\r\n                <el-form :model=\"searchQuery\" :inline=\"true\" ref=\"form\" size=\"small\"> \r\n                  <el-form-item label=\"单据类型\" :rules=\"searchOptions.rules\" :prop=\"searchOptions.prop\"> \r\n                    <el-select v-model=\"searchQuery.bizType\" :placeholder=\"searchOptions.placeholder\" :type=\"searchOptions.type\">\r\n                      <el-option\r\n                        v-for=\"item in listQuery.bizType\"\r\n                        :key=\"item.value\"\r\n                        :label=\"item.label\"\r\n                        :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                </el-form>\r\n              </el-col>\r\n            </el-row>   \r\n          </div>\r\n        </el-header>\r\n        <el-main height=\"\" class=\"btn\" style=\"text-align:center\">\r\n          <div>\r\n            <el-button type=\"primary\" @click=\"onSubmit('form')\">更新订单</el-button>\r\n            <el-button @click=\"handleReset\">重置</el-button>\r\n          </div>\r\n        </el-main>\r\n      </el-container>\r\n    </el-card>\r\n\r\n\r\n\r\n\r\n  </div>\r\n    \r\n</template>\r\n<script>\r\nimport {fcsCompensateHk} from '../../api/fcsOrder'\r\nimport SearchBox from '../../components/searchBox'\r\nexport default {\r\n  name: 'FcsCompensateHk',\r\n  components: {\r\n    SearchBox\r\n  },\r\n  data(){\r\n    return {\r\n      listQuery: {\r\n        bizType: [\r\n          {value: 1, label: '销售采购及BBC发货'},\r\n          {value: 2, label: '销售采购及BBC退货'},\r\n          {value: 3, label: '调拨单'},\r\n        ], //单据类型\r\n        limit: 100\r\n      },\r\n      orderUpdate: fcsCompensateHk,\r\n      searchQuery: {\r\n        bizType: '' ,\r\n        limit: 100\r\n      },\r\n      searchOptions: {\r\n          label: '单据类型:',\r\n          rules: [\r\n          {\r\n          required: true,\r\n          message: \"请输入单据类型\",\r\n          trigger: \"blur\"\r\n          }],\r\n          prop: 'bizType',type: 'bizType',name: 'bizType',\r\n          placeholder: '请输入单据类型',\r\n          proptype: 'input'\r\n        }\r\n    }\r\n  },\r\n    methods: {\r\n    tick(){\r\n      this.$message({\r\n          message:'请选择任务下次触发时间',\r\n          type:'warning',\r\n          duration:2000\r\n      })\r\n      return\r\n    },\r\n    onSubmit(formName){\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          // 获取userCode\r\n          const userCode = JSON.parse(sessionStorage.getItem(\"userCode\")).userCode\r\n          // 请求参数\r\n          const data = Object.assign({},this.searchQuery)\r\n          this.searchQuery.limit = 100 //分页size固定不变\r\n          const params = {data,userCode}\r\n          // 刷新动画\r\n          this.loginLoading = this.$loading({\r\n            lock: true,\r\n            text: '订单刷新中,请稍后。。。',\r\n            spinner: \"el-icon-loading\"\r\n          })\r\n          this.orderUpdateHandle(params)\r\n        } else {\r\n          console.log('error submit!!');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 订单刷新\r\n    orderUpdateHandle(params){\r\n      this.orderUpdate(params)\r\n        .then(res=>{\r\n          if(res.data.code==0){\r\n            this.loginLoading.close()\r\n            this.$message({\r\n              message:'订单刷新成功',\r\n              type:'success',\r\n              duration:2000\r\n            })\r\n          }else{\r\n            this.loginLoading.close()\r\n            this.$message({\r\n              message:'操作失败',\r\n              type:'error',\r\n              duration:2000\r\n            })\r\n          }\r\n        }).catch(err=>{\r\n          console.log(err)\r\n          this.loginLoading.close()\r\n        }).finally(()=>{\r\n          this.loginLoading.close()\r\n        })\r\n    },\r\n    handleReset(){\r\n      // 清空请求搜索\r\n      for (const key in this.searchQuery) {\r\n        if (this.searchQuery.hasOwnProperty(key)) {\r\n          this.searchQuery[key] = ''\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/FCS/FCSCompensate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{staticClass:\"box-card\"},[_c('el-container',[_c('el-header',{staticClass:\"elHeader\",attrs:{\"height\":\"\"}},[_c('div',{staticClass:\"searchBox\",staticStyle:{\"margin-top\":\"10px\",\"text-align\":\"center\"}},[_c('el-row',[_c('el-col',[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.searchQuery,\"inline\":true,\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"单据类型\",\"rules\":_vm.searchOptions.rules,\"prop\":_vm.searchOptions.prop}},[_c('el-select',{attrs:{\"placeholder\":_vm.searchOptions.placeholder,\"type\":_vm.searchOptions.type},model:{value:(_vm.searchQuery.bizType),callback:function ($$v) {_vm.$set(_vm.searchQuery, \"bizType\", $$v)},expression:\"searchQuery.bizType\"}},_vm._l((_vm.listQuery.bizType),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1)],1)],1)],1)]),_vm._v(\" \"),_c('el-main',{staticClass:\"btn\",staticStyle:{\"text-align\":\"center\"},attrs:{\"height\":\"\"}},[_c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit('form')}}},[_vm._v(\"更新订单\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.handleReset}},[_vm._v(\"重置\")])],1)])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-225b45b4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/page/FCS/FCSCompensate.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./FCSCompensate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./FCSCompensate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-225b45b4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./FCSCompensate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/FCS/FCSCompensate.vue\n// module id = null\n// module chunks = ","import request from '@/utils/request'\r\n\r\n// FCS补偿推送恒康\r\nexport function fcsCompensateHk(data){\r\n  return request({\r\n    url: '/bff/api/v1/operation/sync/pos/syncB2cSaleAndPo',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// FCS订单补偿处理\r\nexport function fcsOrderCompensateHandle(data){\r\n  return request({\r\n    url: '/bff/api/v1/operation/sync/pos/syncOrder',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/fcsOrder.js"],"sourceRoot":""}